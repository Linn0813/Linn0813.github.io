<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>别再用 QPS 计算并发数了！我曾经也犯了这个错误 | Linn's Blog</title><meta name="author" content="yuxiaoling"><meta name="copyright" content="yuxiaoling"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="深入解析 QPS、RPS、TPS 概念区别，分享压测中因混淆 QPS 和 RPS 导致的误区，提供正确压测方法与实践建议，助你准确评估系统性能！">
<meta property="og:type" content="article">
<meta property="og:title" content="别再用 QPS 计算并发数了！我曾经也犯了这个错误">
<meta property="og:url" content="https://linn0813.github.io/2025/08/06/2025-08-06-qps-vs-rps/index.html">
<meta property="og:site_name" content="Linn&#39;s Blog">
<meta property="og:description" content="深入解析 QPS、RPS、TPS 概念区别，分享压测中因混淆 QPS 和 RPS 导致的误区，提供正确压测方法与实践建议，助你准确评估系统性能！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://linn0813.github.io/img/qps-rps.png">
<meta property="article:published_time" content="2025-08-06T05:10:12.000Z">
<meta property="article:modified_time" content="2026-01-21T04:15:00.873Z">
<meta property="article:author" content="yuxiaoling">
<meta property="article:tag" content="性能测试">
<meta property="article:tag" content="QPS">
<meta property="article:tag" content="RPS">
<meta property="article:tag" content="TPS">
<meta property="article:tag" content="压测">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://linn0813.github.io/img/qps-rps.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "别再用 QPS 计算并发数了！我曾经也犯了这个错误",
  "url": "https://linn0813.github.io/2025/08/06/2025-08-06-qps-vs-rps/",
  "image": "https://linn0813.github.io/img/qps-rps.png",
  "datePublished": "2025-08-06T05:10:12.000Z",
  "dateModified": "2026-01-21T04:15:00.873Z",
  "author": [
    {
      "@type": "Person",
      "name": "yuxiaoling",
      "url": "https://linn0813.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="https://linn0813.github.io/2025/08/06/2025-08-06-qps-vs-rps/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="Xj7zV_DKnHFmJ7sXNRvdl5-UTfG4NLy-s7hDk1DZt4A"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":3,"unescape":true,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '别再用 QPS 计算并发数了！我曾经也犯了这个错误',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/blog-enhancements.css"><meta name="msvalidate.01" content="C0AF818C725A2A1E112A1537E1064EA8" /><meta name="generator" content="Hexo 7.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/ loading='lazy'></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">100</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">389</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">44</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/qa/"><i class="fa-fw fa fa-comments"></i><span> 知识库问答</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/qps-rps.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/logo.jpg" alt="Logo" loading='lazy'><span class="site-name">Linn's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">别再用 QPS 计算并发数了！我曾经也犯了这个错误</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/qa/"><i class="fa-fw fa fa-comments"></i><span> 知识库问答</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">别再用 QPS 计算并发数了！我曾经也犯了这个错误</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-06T05:10:12.000Z" title="发表于 2025-08-06 13:10:12">2025-08-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-01-21T04:15:00.873Z" title="更新于 2026-01-21 12:15:00">2026-01-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%F0%9F%90%A7-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%BF%9B%E9%98%B6%EF%BC%9ALinux-%E6%97%A5%E5%BF%97%E3%80%81%E6%80%A7%E8%83%BD%E4%B8%8E%E7%9B%91%E6%8E%A7%E5%AE%9E%E6%88%98/">🐧 服务端进阶：Linux 日志、性能与监控实战</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%F0%9F%90%A7-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%BF%9B%E9%98%B6%EF%BC%9ALinux-%E6%97%A5%E5%BF%97%E3%80%81%E6%80%A7%E8%83%BD%E4%B8%8E%E7%9B%91%E6%8E%A7%E5%AE%9E%E6%88%98/%E6%80%A7%E8%83%BD%E3%80%81%E5%AE%89%E5%85%A8%E4%B8%8E%E4%B8%93%E9%A1%B9%E6%B5%8B%E8%AF%95/">性能、安全与专项测试</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">1.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>3分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="别再用-QPS-计算并发数了！我曾经也犯了这个错误"><a href="#别再用-QPS-计算并发数了！我曾经也犯了这个错误" class="headerlink" title="别再用 QPS 计算并发数了！我曾经也犯了这个错误"></a>别再用 QPS 计算并发数了！我曾经也犯了这个错误</h1><h3 id="✍️-前言：一次“压测误区”的反思"><a href="#✍️-前言：一次“压测误区”的反思" class="headerlink" title="✍️ 前言：一次“压测误区”的反思"></a>✍️ 前言：一次“压测误区”的反思</h3><p>在一次压测计划中，我想要模拟系统在 <strong>QPS 为 500</strong> 的情况下运行一分钟，于是直接算了下：</p>
<blockquote>
<p>500 QPS × 60 秒 &#x3D; 30,000 请求</p>
</blockquote>
<p>我很自然地把这个数当成“发起请求的总数”，在压测工具里配置成了对应的并发请求和速率。<br>可实际执行后，结果完全不对劲：服务器很快就吃不消，响应成功数远低于预期，日志也开始大量报错。</p>
<p>后来我才意识到，原来我混淆了 QPS 的含义。<br>压测工具配置的是<strong>发起请求数（RPS）</strong>，而我想要的是<strong>成功处理数（QPS）</strong>。<br>这之间的误解，足以让一次压测结果严重失真。</p>
<hr>
<h3 id="📌-QPS、RPS、TPS-到底有啥区别？"><a href="#📌-QPS、RPS、TPS-到底有啥区别？" class="headerlink" title="📌 QPS、RPS、TPS 到底有啥区别？"></a>📌 QPS、RPS、TPS 到底有啥区别？</h3><table>
<thead>
<tr>
<th>概念</th>
<th>全称</th>
<th>关注点</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>QPS</strong></td>
<td>Queries Per Second</td>
<td>服务端处理能力</td>
<td>每秒成功<strong>响应</strong>的请求数</td>
</tr>
<tr>
<td><strong>RPS</strong></td>
<td>Requests Per Second</td>
<td>客户端施压能力</td>
<td>每秒<strong>发起</strong>的请求数，不一定全部处理成功</td>
</tr>
<tr>
<td><strong>TPS</strong></td>
<td>Transactions Per Second</td>
<td>事务处理能力</td>
<td>每秒完成的事务数量（如数据库事务）</td>
</tr>
</tbody></table>
<hr>
<h3 id="🎯-举个例子说明问题"><a href="#🎯-举个例子说明问题" class="headerlink" title="🎯 举个例子说明问题"></a>🎯 举个例子说明问题</h3><p>假设某系统在 1 秒内：</p>
<ul>
<li>接收了 100 个请求（RPS &#x3D; 100）</li>
<li>实际只处理了其中的 80 个（QPS &#x3D; 80）</li>
</ul>
<p>这就说明当前服务已经出现了处理瓶颈。RPS 代表了你希望系统处理的压力，QPS 则代表系统真正扛下的能力。</p>
<p>所以，在系统性能评估中：</p>
<ul>
<li><strong>RPS 越高</strong>，意味着你施加的压力量越大</li>
<li><strong>QPS 越高</strong>，意味着系统的处理能力越强</li>
</ul>
<hr>
<h3 id="🛠-在压测工具中如何体现？"><a href="#🛠-在压测工具中如何体现？" class="headerlink" title="🛠 在压测工具中如何体现？"></a>🛠 在压测工具中如何体现？</h3><p>以我们常用的 JMeter 和 Locust 为例：</p>
<h4 id="✅-JMeter"><a href="#✅-JMeter" class="headerlink" title="✅ JMeter"></a>✅ JMeter</h4><ul>
<li>设置线程数和循环次数，模拟的是 <strong>RPS</strong></li>
<li>报表中统计的“每秒成功响应数”是 <strong>QPS</strong></li>
</ul>
<h4 id="✅-Locust"><a href="#✅-Locust" class="headerlink" title="✅ Locust"></a>✅ Locust</h4><ul>
<li>可以直接设置“每秒发起请求数”，即 RPS</li>
<li>后台 UI 中的统计图表会展示 QPS 的变化趋势</li>
</ul>
<p>也就是说，在压测工具中我们通常设置的是 RPS，而观察的结果才是 QPS。<br>如果你错误地用 QPS 作为设置参数，就会导致实际发起请求数远大于系统处理能力，从而产生误判。</p>
<hr>
<h3 id="❌-我的错误做法回顾"><a href="#❌-我的错误做法回顾" class="headerlink" title="❌ 我的错误做法回顾"></a>❌ 我的错误做法回顾</h3><p>我曾以为：</p>
<blockquote>
<p>QPS 就是我要每秒发出的请求数，所以直接用它去设定并发和速率。</p>
</blockquote>
<p>但事实是：</p>
<ul>
<li>压测工具设置的是 RPS；</li>
<li>QPS 是结果，由系统的处理能力决定，不能直接“配置”出来。</li>
</ul>
<p>所以我的测试其实是在用 <strong>RPS &#x3D; 500</strong> 压系统，而不是“系统能稳定处理 500 请求”的验证。</p>
<p>结果当然就是，系统很快打满，响应超时、失败率飙升，QPS 也远达不到预期。</p>
<hr>
<h3 id="✅-正确的理解方式是："><a href="#✅-正确的理解方式是：" class="headerlink" title="✅ 正确的理解方式是："></a>✅ 正确的理解方式是：</h3><ul>
<li><strong>QPS 是观测值</strong>：测试过程中系统每秒实际处理完成的请求数量；</li>
<li><strong>RPS 是输入参数</strong>：我们对系统施加的压力量；</li>
</ul>
<p>因此如果你的目标是“系统达到 QPS &#x3D; 500”，你应该：</p>
<ol>
<li>配置合理的 RPS 值；</li>
<li>逐步加压；</li>
<li>观察 QPS 是否随之提升；</li>
<li>评估在什么点系统开始失控或无法线性提升处理能力。</li>
</ol>
<hr>
<h3 id="💡-我的实践建议"><a href="#💡-我的实践建议" class="headerlink" title="💡 我的实践建议"></a>💡 我的实践建议</h3><ul>
<li><strong>目标明确</strong>：先明确你的压测目标是测客户端发压能力（RPS）还是服务端承压能力（QPS）；</li>
<li><strong>逐步施压</strong>：用阶梯式压测或线性提升 RPS 的方式，逐步逼近系统极限；</li>
<li><strong>实时观测</strong>：通过 APM 工具、日志、Prometheus 或压测工具自身统计，实时观测 QPS、失败率、响应时间等核心指标；</li>
<li><strong>聚焦瓶颈点</strong>：一旦 QPS 不再随 RPS 增加，就要开始分析：是 CPU？数据库？网络？线程池？找出系统的限速器。</li>
</ul>
<hr>
<h3 id="🧩-总结一句话"><a href="#🧩-总结一句话" class="headerlink" title="🧩 总结一句话"></a>🧩 总结一句话</h3><blockquote>
<p><strong>QPS 是系统抗压的“结果”，RPS 是你施加的“压力”——两者混淆只会让压测失真。</strong></p>
</blockquote>
<hr>
<h3 id="🎯-最后的提醒"><a href="#🎯-最后的提醒" class="headerlink" title="🎯 最后的提醒"></a>🎯 最后的提醒</h3><p>如果你正在做接口压测，请务必检查以下问题：</p>
<ul>
<li>你配置的是 RPS 还是 QPS？</li>
<li>你设定的目标，是系统性能的结果，还是工具的输入？</li>
<li>你是否用对了这些指标的含义？</li>
</ul>
<p>我已经踩过一次坑了，如果你刚好也走到了这一步，希望这篇文章能帮你少走一点弯路。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://linn0813.github.io">yuxiaoling</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://linn0813.github.io/2025/08/06/2025-08-06-qps-vs-rps/">https://linn0813.github.io/2025/08/06/2025-08-06-qps-vs-rps/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">版权所有，转载请注明出处。</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">性能测试</a><a class="post-meta__tags" href="/tags/QPS/">QPS</a><a class="post-meta__tags" href="/tags/RPS/">RPS</a><a class="post-meta__tags" href="/tags/TPS/">TPS</a><a class="post-meta__tags" href="/tags/%E5%8E%8B%E6%B5%8B/">压测</a></div><div class="post-share"><div class="social-share" data-image="/img/qps-rps.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/07/30/2025-07-30-cursor-region-limit-solution/" title="🌐解决 Cursor 地区限制报错：Claude、GPT-4 无法使用的应对方案分享"><img class="cover" src="/img/cursor-error.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post" loading='lazy'><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">🌐解决 Cursor 地区限制报错：Claude、GPT-4 无法使用的应对方案分享</div></div><div class="info-2"><div class="info-item-1">🌐解决 Cursor 地区限制报错：Claude、GPT-4 无法使用的应对方案分享 本文仅出于技术学习和经验分享目的，帮助开发者了解和解决 Cursor 使用海外模型时遇到的地区限制问题。   🚨问题描述：Cursor 使用海外模型报错近期 Cursor 编译器在使用 Claude、GPT-4 等海外模型时，部分用户（特别是中国大陆 IP）会遇到如下错误提示： ❌ Model not available  This model provider doesn&#x27;t serve your region.  Visit https://docs.cursor.com/account/regions for more information.  如图所示：   这意味着 Cursor 的模型服务商对地区进行了限制，尤其是 Claude 和 GPT-4 类模型在中国大陆区域默认不可用。  ✅解决方案（需配置 VPN）目前应对方式主要有两种路径，均依赖于你已配置好 VPN 环境：  🧭方案一：配置代理服务器在 Cursor 中手动设置代理服务器地址，使其网络请求通过 VPN...</div></div></div></a><a class="pagination-related" href="/2025/08/06/2025-08-07-version-compare-gotcha/" title="你真的会比较版本号吗？我因为&quot;3.9.0 &gt; 3.11.0&quot;翻了车"><img class="cover" src="/img/version-compare.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post" loading='lazy'><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">你真的会比较版本号吗？我因为"3.9.0 > 3.11.0"翻了车</div></div><div class="info-2"><div class="info-item-1">你真的会比较版本号吗？我因为“3.9.0 &gt; 3.11.0”翻了车✍️ 前言：一个不起眼的 bug，背后的大坑在一次测试任务中，我需要验证某段逻辑是否在不同版本范围内正确生效。逻辑中涉及版本号对比，我最初随手用了几个测试数据，比如 3.1.0、3.2.0、3.5.2，对比结果都符合预期，测试自然也通过了。 直到某一天我用上了 3.9.0 和 3.11.0，结果却让我一脸问号：系统竟然认为 3.9.0 &gt; 3.11.0？ 找开发一查，果然，代码中做版本比较的方式出了问题。他们直接把版本号当成字符串来比较，导致在“9”和“11”之间，字符串认为 &quot;9&quot; &gt; &quot;11&quot;，从而出现了错误判断。  🚨 问题复现：版本号字符串比较的坑很多人觉得版本号像字符串一样写着，直接 if version1 &gt; version2 不就行了吗？ 来看看以下 Python 例子： print(&quot;3.9.0&quot; &gt; &quot;3.11.0&quot;)  # True ❌  这是...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/06/30/2025-06-30-streaming-api-performance-test/" title="🚀 一次流式接口压测实践：我们如何压出了真实压力，又避开了坑"><img class="cover" src="/img/streaming-api-performance-test.png" alt="cover" loading='lazy'><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-30</div><div class="info-item-2">🚀 一次流式接口压测实践：我们如何压出了真实压力，又避开了坑</div></div><div class="info-2"><div class="info-item-1">🚀 一次流式接口压测实践：我们如何压出了真实压力，又避开了坑在做传统 API 接口压测时，JMeter、Locust、k6 等工具已经成熟，但当面对“流式响应接口”（如 AI 对话、实时数据推送等）时，你会发现，常规的压测方案开始失效了——连接不断开、响应超长、QPS 无法控制、数据无法断言…… 作为一名测试工程师，我近期负责了一个流式接口的压测任务，最终成功搭建起一套支持并发模拟、响应追踪、QPS 控制、异常分析的完整压测流程。今天分享我的真实踩坑经历与解决方案。  🧩 背景：什么是“流式接口”？流式接口（streaming API）是指后端不会一次性返回完整响应，而是像“水管”一样分段不断推送数据到前端，典型的如：  OpenAI &#x2F; ChatGPT 的 SSE 接口（Server-Sent Events） WebSocket 数据订阅 实时日志推送 &#x2F; 实时翻译  以我们测试的接口为例，它是一个 AI 对话接口，会以 SSE 的方式流式返回回答片段，最终发送 [DONE] 表示结束。  💣...</div></div></div></a><a class="pagination-related" href="/2026/01/07/2026-01-07-performance-monitoring-dashboard-guide/" title="📊 压测时，我是如何一步步「读懂」性能监控面板的"><img class="cover" src="/img/performance-monitoring-dashboard-guide.png" alt="cover" loading='lazy'><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-07</div><div class="info-item-2">📊 压测时，我是如何一步步「读懂」性能监控面板的</div></div><div class="info-2"><div class="info-item-1">压测时，我是如何一步步「读懂」性能监控面板的 📊 从”看不懂 CES &#x2F; CPU &#x2F; Memory 面板”，到”能用它们做结论判断”  这是我第一次在压测过程中，真正独立去看服务器性能面板。运维给了我一个临时的监控链接，里面有 CES、CPU Utilization、Memory Utilization 等指标。 当时我的真实感受是：  每一个指标我都”认识”，但连在一起就完全不知道在说什么。  这篇文章不是讲「CPU 是什么、内存是什么」而是想聊清楚一件事👇  压测时，我们到底应该”怎么看面板”，以及”从面板中得出什么结论”。   一、先说结论：压测看面板，不是看”数值”，而是看”关系” 🧠很多新手（包括我自己一开始）都会犯一个错误：  ❌ CPU 高不高？❌ 内存满不满？  但真实的压测判断是：  ✅ 在当前压测强度下，这些指标是否”符合预期关系”  性能问题，本质上是...</div></div></div></a><a class="pagination-related" href="/2026/01/06/2026-01-06-server-performance-troubleshooting-guide/" title="🚀 服务器性能问题排查完全指南：从 OOM、CPU 高到压测配合，测试工程师必知必会"><img class="cover" src="/img/server-performance-guide.png" alt="cover" loading='lazy'><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-06</div><div class="info-item-2">🚀 服务器性能问题排查完全指南：从 OOM、CPU 高到压测配合，测试工程师必知必会</div></div><div class="info-2"><div class="info-item-1"> 背景：最近遇到一个线上问题，运维反馈服务器出现 OOM、CPU 高的情况，需要压测配合排查。作为测试工程师，我发现自己对服务器性能问题缺乏系统认知，于是整理了这篇文档，希望能一次性讲清楚所有相关概念和排查思路。   📋 目录概览 理解服务器资源的本质 性能问题的根源：资源竞争与瓶颈 内存问题：OOM 与内存泄漏 CPU 问题：高负载与死循环 并发处理机制：异步、队列与锁 IO 阻塞与资源等待 压测配合排查：如何定位问题 常见性能问题模式与解决方案 性能优化最佳实践   1️⃣ 理解服务器资源的本质在深入性能问题之前，我们需要理解服务器的三大核心资源：CPU、内存、IO。 1.1 三大资源的本质   资源 本质 特点 限制因素    CPU 计算能力 有限的核心数，串行执行 核心数、主频   内存 临时存储空间 速度快但容量有限 容量大小   IO 数据输入输出 磁盘、网络读写 带宽、延迟   1.2 资源之间的关系资源竞争的本质：  多个任务同时需要同一资源 资源有限，无法同时满足所有需求 导致任务排队等待，性能下降  资源依赖关系： CPU 处理数据 →...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="utterances-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/ loading='lazy'></div><div class="author-info-name">yuxiaoling</div><div class="author-info-description">分享软件测试学习、实战经验和踩坑历程</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">100</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">389</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">44</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Linn0813"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Linn0813" target="_blank" title="GitHub"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:yuxiaoling.yxl@qq.com" target="_blank" title="Email"><i class="fa fa-envelope-open-text"></i></a><a class="social-icon" href="javascript:alert('微信公众号：Linn的技术笔记')" target="_blank" title="微信"><i class="fab fa-weixin"></i></a><a class="social-icon" href="https://weibo.com/Linn0813" target="_blank" title="微博"><i class="fab fa-weibo"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">下雨就不想上班 / 出太阳也不想上班</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%AB%E5%86%8D%E7%94%A8-QPS-%E8%AE%A1%E7%AE%97%E5%B9%B6%E5%8F%91%E6%95%B0%E4%BA%86%EF%BC%81%E6%88%91%E6%9B%BE%E7%BB%8F%E4%B9%9F%E7%8A%AF%E4%BA%86%E8%BF%99%E4%B8%AA%E9%94%99%E8%AF%AF"><span class="toc-number">1.</span> <span class="toc-text">别再用 QPS 计算并发数了！我曾经也犯了这个错误</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8D%EF%B8%8F-%E5%89%8D%E8%A8%80%EF%BC%9A%E4%B8%80%E6%AC%A1%E2%80%9C%E5%8E%8B%E6%B5%8B%E8%AF%AF%E5%8C%BA%E2%80%9D%E7%9A%84%E5%8F%8D%E6%80%9D"><span class="toc-number">1.0.1.</span> <span class="toc-text">✍️ 前言：一次“压测误区”的反思</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%8C-QPS%E3%80%81RPS%E3%80%81TPS-%E5%88%B0%E5%BA%95%E6%9C%89%E5%95%A5%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">1.0.2.</span> <span class="toc-text">📌 QPS、RPS、TPS 到底有啥区别？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%AF-%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90%E8%AF%B4%E6%98%8E%E9%97%AE%E9%A2%98"><span class="toc-number">1.0.3.</span> <span class="toc-text">🎯 举个例子说明问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%9B%A0-%E5%9C%A8%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7%E4%B8%AD%E5%A6%82%E4%BD%95%E4%BD%93%E7%8E%B0%EF%BC%9F"><span class="toc-number">1.0.4.</span> <span class="toc-text">🛠 在压测工具中如何体现？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%85-JMeter"><span class="toc-number">1.0.4.1.</span> <span class="toc-text">✅ JMeter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%85-Locust"><span class="toc-number">1.0.4.2.</span> <span class="toc-text">✅ Locust</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9D%8C-%E6%88%91%E7%9A%84%E9%94%99%E8%AF%AF%E5%81%9A%E6%B3%95%E5%9B%9E%E9%A1%BE"><span class="toc-number">1.0.5.</span> <span class="toc-text">❌ 我的错误做法回顾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85-%E6%AD%A3%E7%A1%AE%E7%9A%84%E7%90%86%E8%A7%A3%E6%96%B9%E5%BC%8F%E6%98%AF%EF%BC%9A"><span class="toc-number">1.0.6.</span> <span class="toc-text">✅ 正确的理解方式是：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%A1-%E6%88%91%E7%9A%84%E5%AE%9E%E8%B7%B5%E5%BB%BA%E8%AE%AE"><span class="toc-number">1.0.7.</span> <span class="toc-text">💡 我的实践建议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%A7%A9-%E6%80%BB%E7%BB%93%E4%B8%80%E5%8F%A5%E8%AF%9D"><span class="toc-number">1.0.8.</span> <span class="toc-text">🧩 总结一句话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%AF-%E6%9C%80%E5%90%8E%E7%9A%84%E6%8F%90%E9%86%92"><span class="toc-number">1.0.9.</span> <span class="toc-text">🎯 最后的提醒</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/26/2026-01-26-localhost-wifi-access-guide/" title="同一 Wi‑Fi 访问本地服务：网络模型、配置方式与边界说明"><img src="/img/localhost-wifi-access-guide.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="同一 Wi‑Fi 访问本地服务：网络模型、配置方式与边界说明"/ loading='lazy'></a><div class="content"><a class="title" href="/2026/01/26/2026-01-26-localhost-wifi-access-guide/" title="同一 Wi‑Fi 访问本地服务：网络模型、配置方式与边界说明">同一 Wi‑Fi 访问本地服务：网络模型、配置方式与边界说明</a><time datetime="2026-01-26T02:00:00.000Z" title="发表于 2026-01-26 10:00:00">2026-01-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/21/2026-01-21-sitemap-search-engine-seo-guide/" title="🧭 如何把个人博客挂到搜索引擎上？"><img src="/img/sitemap-search-engine-seo-guide.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="🧭 如何把个人博客挂到搜索引擎上？"/ loading='lazy'></a><div class="content"><a class="title" href="/2026/01/21/2026-01-21-sitemap-search-engine-seo-guide/" title="🧭 如何把个人博客挂到搜索引擎上？">🧭 如何把个人博客挂到搜索引擎上？</a><time datetime="2026-01-21T11:00:00.000Z" title="发表于 2026-01-21 19:00:00">2026-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/21/2026-01-21-python-xmind-operation-guide/" title="🗺️ 用 Python 操作 XMind：从读懂到生成的完整入门指南"><img src="/img/python-xmind-operation-guide.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="🗺️ 用 Python 操作 XMind：从读懂到生成的完整入门指南"/ loading='lazy'></a><div class="content"><a class="title" href="/2026/01/21/2026-01-21-python-xmind-operation-guide/" title="🗺️ 用 Python 操作 XMind：从读懂到生成的完整入门指南">🗺️ 用 Python 操作 XMind：从读懂到生成的完整入门指南</a><time datetime="2026-01-21T07:00:00.000Z" title="发表于 2026-01-21 15:00:00">2026-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/20/2026-01-20-frontend-file-extensions-guide/" title="📄 一篇搞懂前端常见文件后缀：ts / tsc / jsx / tsx / scss"><img src="/img/frontend-file-extensions-guide.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="📄 一篇搞懂前端常见文件后缀：ts / tsc / jsx / tsx / scss"/ loading='lazy'></a><div class="content"><a class="title" href="/2026/01/20/2026-01-20-frontend-file-extensions-guide/" title="📄 一篇搞懂前端常见文件后缀：ts / tsc / jsx / tsx / scss">📄 一篇搞懂前端常见文件后缀：ts / tsc / jsx / tsx / scss</a><time datetime="2026-01-20T08:00:00.000Z" title="发表于 2026-01-20 16:00:00">2026-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/20/2026-01-20-llm-integration-what-are-you-calling/" title="🤖 项目里调用大模型，其实在调用什么？"><img src="/img/llm-integration-what-are-you-calling.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="🤖 项目里调用大模型，其实在调用什么？"/ loading='lazy'></a><div class="content"><a class="title" href="/2026/01/20/2026-01-20-llm-integration-what-are-you-calling/" title="🤖 项目里调用大模型，其实在调用什么？">🤖 项目里调用大模型，其实在调用什么？</a><time datetime="2026-01-20T02:00:00.000Z" title="发表于 2026-01-20 10:00:00">2026-01-20</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2025 - 2026 By yuxiaoling</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null
  const getUtterancesTheme = theme => theme === 'dark' ? 'photon-dark' : 'github-light'

  const loadUtterances = (el = document, key) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyUtterances = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const config = {
      src: 'https://utteranc.es/client.js',
      repo: 'Linn0813/Linn0813.github.io',
      theme: getUtterancesTheme(document.documentElement.getAttribute('data-theme')),
      crossorigin: 'anonymous',
      async: true,
      ...option,
      'issue-term': isShuoshuo ? key : (option && option['issue-term']) || 'pathname'
    }

    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => ele.setAttribute(key, value))
    el.querySelector('#utterances-wrap').appendChild(ele)
  }

  const changeUtterancesTheme = theme => {
    const iframe = document.querySelector('#utterances-wrap iframe')
    if (iframe) {
      const message = {
        type: 'set-theme',
        theme: getUtterancesTheme(theme)
      };
      iframe.contentWindow.postMessage(message, 'https://utteranc.es')
    }
  }

  btf.addGlobalFn('themeChange', changeUtterancesTheme, 'utterances')

  if (isShuoshuo) {
    'Utterances' === 'Utterances'
      ? window.shuoshuoComment = { loadComment: loadUtterances }
      : window.loadOtherComment = loadUtterances
    return
  }
  
  if ('Utterances' === 'Utterances' || !false) {
    if (false) btf.loadComment(document.getElementById('utterances-wrap'), loadUtterances)
    else loadUtterances()
  } else {
    window.loadOtherComment = loadUtterances
  }
})()</script></div><script src="/js/blog-enhancements.js"></script><script src="/js/category-enhancements.js"></script><script src="/js/archive-enhancements.js"></script><script src="/js/tag-enhancements.js"></script><script src="/js/index-enhancements.js"></script><script src="/js/theme-switcher-ui.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章、分类、标签..." type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>